---
layout: layouts/base.njk
title: Blog - GameNightGPT
description: Latest updates from GameNightGPT.
permalink: /blog/
---

{% include "partials/navbar.njk" %}

<main id="main" class="pt-24 bg-paper min-h-screen">
  <div class="mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl py-12">
    <header class="text-center mb-12">
      <h1 class="text-heading mb-4">Blog</h1>
      <p class="text-lg text-body">
        Updates on our launch
      </p>
    </header>

    <div class="max-w-4xl mx-auto">
      {% if collections.posts.length > 0 %}
        <div class="space-y-8">
          {% for post in collections.posts %}
            <article class="bg-card rounded-lg shadow-premium-card border border-[var(--border-subtle)] p-8 hover:shadow-lg transition-shadow">
              <h2 class="mb-2">
                <a href="{{ post.url }}" class="text-heading hover:text-[var(--accent-orange-dark)] transition-colors">
                  {{ post.data.title }}
                </a>
              </h2>
              <time datetime="{{ post.date | dateToRfc3339 }}" class="text-sm text-muted mb-4 block">
                {{ post.date | dateDisplay }}
              </time>
              <p class="text-body mb-4">
                {{ post.data.description or post.templateContent | striptags | truncate(200) }}
              </p>
              <a href="{{ post.url }}" class="text-[var(--accent-orange-dark)] hover:text-[var(--accent-orange-darker)] font-medium transition-colors">
                Read more â†’
              </a>
            </article>
          {% endfor %}
        </div>
      {% else %}
        <div class="text-center py-12">
          <p class="text-body">No blog posts yet. Check back soon!</p>
        </div>
      {% endif %}
    </div>

    <!-- Newsletter Signup -->
    <div class="mt-16 max-w-2xl mx-auto">
      <div class="bg-dark-coffee rounded-xl p-8 text-center">
        <h3 class="text-accent-gold mb-3">Stay Updated</h3>
        <p class="text-on-dark mb-6">
          Get the latest GameNightGPT news and board gaming tips delivered to your inbox.
        </p>
        <form id="blog-newsletter-form" class="flex flex-col sm:flex-row gap-3 max-w-md mx-auto">
          <input
            type="email"
            name="email"
            placeholder="Enter your email"
            required
            class="flex-1 px-4 py-3 rounded-lg border-2 border-[var(--accent-gold)] bg-black/30 text-on-dark placeholder:text-[var(--text-muted)] focus:border-[var(--accent-orange-light)] focus:outline-none"
          />
          <button
            type="submit"
            class="btn-outline-gold whitespace-nowrap"
          >
            Subscribe
          </button>
        </form>

        <div id="blog-newsletter-success" class="hidden mt-4">
          <p class="text-accent-gold font-medium">
            You're on the list! Check your email to confirm.
          </p>
        </div>

        <p id="blog-newsletter-error" class="hidden mt-4 text-[var(--accent-orange-light)]">
          Something went wrong. Please try again.
        </p>
      </div>
    </div>
  </div>
</main>

{% include "partials/footer.njk" %}

<script>
// Blog newsletter form handling
document.addEventListener('DOMContentLoaded', function() {
  const form = document.getElementById('blog-newsletter-form');
  const successDiv = document.getElementById('blog-newsletter-success');
  const errorMessage = document.getElementById('blog-newsletter-error');
  const submitButton = form ? form.querySelector('button[type="submit"]') : null;

  if (form) {
    form.addEventListener('submit', async function(e) {
      e.preventDefault();

      const email = form.querySelector('input[name="email"]').value;
      const formData = new FormData();
      formData.append('email', email);
      formData.append('embed', '1');

      if (submitButton) {
        submitButton.disabled = true;
        submitButton.textContent = 'Joining...';
      }
      errorMessage.classList.add('hidden');

      try {
        const response = await fetch('https://buttondown.com/api/emails/embed-subscribe/gamenightgpt', {
          method: 'POST',
          body: formData,
        });

        if (response.ok) {
          form.style.display = 'none';
          successDiv.classList.remove('hidden');
        } else {
          errorMessage.classList.remove('hidden');
          if (submitButton) {
            submitButton.disabled = false;
            submitButton.textContent = 'Subscribe';
          }
        }
      } catch (error) {
        errorMessage.classList.remove('hidden');
        if (submitButton) {
          submitButton.disabled = false;
          submitButton.textContent = 'Subscribe';
        }
      }
    });
  }
});
</script>